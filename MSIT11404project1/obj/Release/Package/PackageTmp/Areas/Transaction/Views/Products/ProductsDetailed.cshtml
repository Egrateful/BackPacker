@model MSIT11404project1.Models.Products
@{
    ViewBag.Title = "產品詳細資料";
    Layout = "~/Views/Shared/_LayoutPro.cshtml";
}



@section style{
    <style>
        .resize {
            resize: none;
        }

        .form-horizontal {
            background-color: RGBA(200,200,200,0.7);
        }
         .list-inline{height:50px
        }
        </style>
}

<div class="panel panel-warning THome">
    <div class="panel-heading">
     
               <ul class="list-inline " >
            <li ><h3><strong>產品詳細資料</strong></h3></li>
                   <li >@Html.Action("MenuLink")</li>
            </ul>
       
</div>
    <div class="panel-body">
        <div class="col-md-2">
            @Html.Action("Categorys")
        </div>

        <div class="col-md-10">
            <div class="row">
                @using (Html.BeginForm("Add", "Products", new { id = Model.ProductID }, FormMethod.Post, new { @class = "form-horizontal", enctype = "multipart/form-data" }))
                {

                <div class="col-sm-4">
                    <img src="@Url.Action("GetImage", new { id = Model.ProductID})" id="img" class="img-thumbnail" />

                </div>
                <div class="col-sm-8">
                    <h3> 
                         @Html.DisplayFor(p => p.ProductName, new { htmlAttributes = new { @class = "form-control", placeholder = "ModelName" } })
                        @if (Model.Quantity == 0)
                        {
                            <strong class="line-height" style="color:white;background-color:red ">
                                已完售
                            </strong>
                        }
                    </h3>
                    <br>
                    <h4><strong>@Html.DisplayNameFor(p => p.ProductContent)</strong></h4>
                    <p style="white-space:pre-wrap;">@Html.DisplayFor(p => p.ProductContent)</p>
                    <p>拍賣者: @Html.DisplayFor(p => p.Members.UserName)</p>
                    <p>可購買量: @Html.DisplayFor(p => p.Quantity, new { htmlAttributes = new { @class = "form-control" } })</p>
                    <p>@Html.LabelFor(p => p.UnitPrice, new { @class = "control-label" }): @Html.DisplayFor(p => p.UnitPrice, new { htmlAttributes = new { @class = "control-label" } }) </p>
                    <p>建立日: @Html.DisplayFor(p => p.Date)</p>
                    @{
                      if (Model.Quantity != 0)
                        {  <div class="row">
                        <text>
                            <div class="col-lg-3">
                                <select class="form-control" id="Quantity" name="Quantity">
                                    @{
                                        int i = 1;
                                        if (Model.UnitPrice >= 10000)
                                        {
                                            for (i = 1; i <= Model.Quantity; i++)
                                            {
                                                if (i <= 2)
                                                {
                                                    <option value="@i">@i</option>
                                                }
                                            }
                                        }
                                        else if (Model.UnitPrice >= 5000)
                                        {
                                            for (i = 1; i <= Model.Quantity; i++)
                                            {
                                                if (i <= 6)
                                                {
                                                    <option value="@i">@i</option>
                                                }
                                            }
                                        }
                                        else if (Model.UnitPrice >= 1000)
                                        {
                                            for (i = 1; i <= Model.Quantity; i++)
                                            {
                                                if (i <= 10)
                                                {
                                                    <option value="@i">@i</option>
                                                }
                                            }
                                        }
                                        else
                                        {
                                            for (i = 1; i <= Model.Quantity; i++)
                                            {
                                                if (i <= 10)
                                                {
                                                    <option value="@i">@i</option>
                                                }
                                            }
                                        }

                                    }
                                </select>
                            </div>
                        </text>
                        <div class="col-lg-3">
                            <button type="submit" class="btn btn-primary  glyphicon glyphicon-shopping-cart">加入購物車</button>
            </div>
                    </div>
                                        }
                                      
                    }


                </div>
                }
            </div>
        </div>
    </div>
</div>
